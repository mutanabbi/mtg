See http://deckstats.net/decks/905/3382-new-simic/en
Tabs делаются на jQuery
Таблицы и сортировка через jQuery плагин datatable http://www.datatables.net/
Для рисовани стопок тупо используем
.card-cont > img {
  position: absolute;
  float: left;
  display: inherit;
}
img:nth-child(1) {
  z-index: 0;
  top: 0px;
}

todo: Как организовать мета-статистику и интерфейс для оной (навигацию между xml-ками с соответствующими деками)
todo: Нет ли необходимости в единой базе данных?
todo: Поддержка истории изменений
todo: Сайдборд
todo: Заменить deque на deck
todo: Для боевой версии необходима возможность распечатки проксей
todo: Желательно наличие эмулятора игры (наряду с просмотром сдачи) для продвинутого анализа сдачи
todo: Узнать какие бывают архетипы и как формализовать принадлежность к ним
todo: Рекомендация какие карты становятся нелегальными при попытке сменить формат колоды (какие карты нужно заменить). Могут ли они быть заменены на карты из сайдборда?
todo: ссылка на "похожие" деки. Как определять степень схожети -  формула?
todo: Автоматически детектить карты-источники манны

div Статистика по декам
  См. div Сквозные характеристики.
  Таблица с полями: Имя деки, Владелец, дата создания, цвет (с весами), оценка + сквозные характеристики
  Формат деки это просто группировка
  Сортировка по любому полю
  Фильтры

div Статистика по картам в всех деках
  Рейтингии (Топы)
    популярности
    встречаемости
      абсолютной (количетво во всех деках)
      относительной (количество дек с этой картой)
    стоимости(мана)
    цены($)

div Общая информация
  Название деки
  Владелец
  Дата создания
  Количество карт
  Количество земель
  Цвет деки
  Формат деки (на основе легальности карт). Может быть протегана несколькими
  Цена деки
  
div Метрики манны (Manalyzer)
  Total cost колоды
  Total по каждому цвету (для помощи в выборе количества земель) При этом двуцветные карты можно рассматривать как каждый цвет или как Gold
  Количество карт соответствующего цвета
  Средний mana cost
  
div Диаграммы (http://www.jqplot.com/tests/)
  Кривая манны
    Кривая по типу карт
    Кривая по цвету (фигурирует Gold)
    Те же кривые, но с вероятностями
Круговая диограмма распределения
    Цветов в колоде
    Типов карт в колоде
    Источников манн в колоде
    
div Сквозные характеристики колоды #TODO продумать формулы и алгоритмы (не очень понятно как считать синергию)
  Сила колоды
  Синергия колоды
  Скорость колоды
  Автоматическое определение архетипа колоды (Агро, Комбо, Контроль и т.д.) Возможно в виде коэффициентов каждого типа
    
div Таблица списка карт деки (div с такой же табличкой для сайдборда) с сортировкой по каждому полю
  Количество
  Имя
  Тип-Подтип-Супертип
  Мана
  Сет
  Цена
    
tab Визуальное отображение
  Все карты в колоде. Дубликаты отображаются визуально одна за другой
  Земли сгруппированы отдельно
  Фильтрация (продумать интейрфейс и механизм)
  
tab Тест играбельности
  Тестовая рука
  Муллиган
  Новая рука
  
tab Вероятности (Probabilities/Odds)
  Таблица Карта/номер хода
  Сортировка по Имени и значениям вероятности в каждом ходу
  Количество ходов ограничено (вероятно 10-ю)
  Вариант таблицы с вероятностью получить карту и иметь реурсы сыграть ее (условная вероятность наличия карты соответствующем ходу И наличия нужного количества карт земель/источников манны)
  todo: рекомендации по изменнению колоды для оптимизации вероятности
  таблица/другой механизм для подсчета вероятности сыграть выбранное комбо. Можно ли реализовать в рамках той же таблицы? (например сортировками по нескольким колонкам)
  
http://hijos.ru/izuchenie-matematiki/algebra-10-klass/19-razmeshheniya-perestanovki-sochetaniya-s-povtoreniyami-formula-vklyucheniya-isklyucheniya/
http://www.bseu.by/hm/uchm/pract_tv/Pract_tv.pdf
Вероятности
  Размещение (из n по m)
    уникальное: n!(n - m)!
    с повторениями: n^m
    
  Сочетание
  (сочетанием из n по m называется набор m элементов, выбранных из данного множества, содержащего n различных элементов)
  Отличие от размещений: Наборы, отличающиеся только порядком следования элементов (но не составом), считаются одинаковыми
    уникальные: Биномиальный коэффициент n по m = n!/(m!(n-m))!
    Подходит для расчета количества способов (знаменатель вероятности), которыми можно получить стартовую руку для обычных карт (каждая карта уникальна и определяется значением и мастью)
    
    с повторениями: (n + m - 1)!/(m!(n - 1)!)
    с кратностю повторений: Если каждому элементу некоторого конечного множества поставлено в соответствие целое неотрицательное число — кратность данного элемента, то говорят, что задано сочетание с повторениями. Сумма k кратностей всех элементов называется порядком сочетания.
    биномиальный коэффициент С(n + k - 1 по k)

  Перестановка (частный случай размещения) = размещение из n по n (сколькими способами карты из имеющейся руки могли прийти в игру)
    уникальные: n!
    с повторениями: n!/k1!k2!k3!...kj!, где kN - количество элементов соответствующего типа

    
Биномиальный коэффициент C(n по k) = n!/(m!(n - m)!) = n(n - 1)(n - 2)...(n - k - 1)/k!
В нашем случае n = n + k - 1; С(n + k - 1 по k) = (n + k - 1)(n + k - 1 - 1)(n + k - 1 - 2)...(n + k - 1 - k - 1)/k! = (n + k - 1)(n + k - 2)...(n - 2)/k!
или (n+k-1)!/(k!(n+k-1 - k)!) = (n+k-1)!/(k!(n - 1)!)

Пример:
Карта Goblin


Дано
  Число различных карт M
  Общее число карт N >=M  